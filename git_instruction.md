![Логотип Git](git_logo.png)
# GIT. Инструкция.
## Установка
### Windows
Загружаем последнюю версию Git c [сайта](https://www.git-scm.com/downloads). Устанавливаем с настройками по умолчанию.
### Linux (Debian-based)
В терминале выполняем комманду:
```
sudo apt git install
```
## Проверка установки
**Комманда:**
Для проверки правильности установки Git, в терминале необходимо ввести команду:
```
git --version     // Выдает версию программы Git
```
Если установка Git прошла успешно, то терминал выдаст вам сообщение с версией Git:
```
git version 2.42.0.windows.2
```
## Настройка
При первом использовании Git нужно прописать в настройках свои контактные данные. Для этого необходимо ввести в терминале две команды:
```
git config --global user.name  <"ВАШЕ ИМЯ">     // Задает имя пользователя
```
```
git config --global user.email <ВАША ПОЧТА>     // Задает электронную почту пользователя
```
Так же можно установить имя главной ветки по умолчанию.  
Изначально она назывется **master**, но для работы с удаленными репозитриями стоит изменить ее имя на **main**.  
Сделать это возможно с помощью команды:
```
git config --global init.defaultBranch main     // Задает имя по умолчанию для главной ветки
```
## Создание репозитория
Для того чтобы добавить директорию в систему контроля версий, необходимо в терминале перейти в нужную папку и ввести команду:
```
git init     // Добавляет выбранную папку в систему контроля Git
```
Для проверки инициализации нужно ввести комманду:
```
git status     // Выдает информацию о состоянии репозитория
```
Если терминал выдает сообщение:
```
On branch master
nothing to commit, working tree clean
```
Значит инициализация прошла успешно.
## Создание коммитов
После внесения изменений в репозитории, для того что бы зафиксировать их, нужно выполнить следующие действия.  
Сначала индексируем изменения в измененных файлах c помошью комманды:
```
git add <ИМЯ ФАЙЛА>     // Индексирует изменения в указанном файле
```
Если нам нужно проиндексировать изменения во всех модифицированных файлах репозитория, то можно воспользоваться коммандой:
```
git add .     // Индексирует изменения во всем репозитории
```
Для фиксации изменений нужно ввести команду:
```
git commit      // Фиксирует индексированные изменения репозитория
```
Чтобы совершить фиксацию необходимо добавить комментарий к ней.  
Комментарий можно указать сразу в команде коммита с помощью параметра `-m`.
```
git commit -m <"КОММЕНТАРИЙ">     // Фиксирует изменения и добавляет к ним комментарий
```
## Переключение между коммитами
Что бы вывести список всех зафиксированных изменений нужно ввести комманду:
```
git log     // Выводит список всех коммитов
```
Пример вывода:
```
commit e1c0c01f4b26f42c0b630b4811ef8b9fa3fc1285         // Хеш-код комита
Author: Ilya Korshunov <korshunov.work@gmail.com>       // Автор коммита
Date:   Sat Sep 30 02:48:57 2023 +0300                  // Дата коммита

    Initial commit                                      // Комментарий к коммиту
```
С помощью параметра `--oneline` можно вывести лаконичный список коммитов.
```
git log --oneline     // Выводит сокращенный список коммитов
```
Чтобы переключиться между коммитами нужно воспользоваться коммандой:
```
git checkout <ХЕШ-КОД КОММИТА>  // Перемещает нас в выбранный коммит
                                // (не обязательно прописывать полный хеш-код
                                // достаточно первых 4 символов)
```
После этого репозиторий перйдет к состоянию на момент совершения данного коммита.  
Для того чтобы вернуться к последнему коммиту, нужно воспользоваться командой:
```
git checkout <ИМЯ ТЕКУЩЕЙ ВЕТКИ>    // Возвращает к последнему коммиту ветки
```
## Игнорирование файлов
Чnо бы исключить из отслеживания в репозитории определенные файлы и папки. Неоходимо создать в корне репозитория файл **.gitignore** и записать в него их названия или шаблоны вида `*.*`  
  
  
__ПРИМЕР СОДЕРЖАНИЯ ФАЙЛА__
```
logo.jpg
picture.png
```
```
*.jpg
*.png
*.wav
```
## Создание веток
Для создания ветки можно воспользоваться этими командами:
```
git branch <ИМЯ ВЕТКИ>          // Создает новую ветку
git checkout -b <ИМЯ ВЕТИ>      // Создает новую ветку и перемещает нас в нее
git switch -c <ИМЯ ВЕТКИ>       // Создает новую ветку и перемещает нас в нее
```
Cписок веток в репозитории можно посмотреть с помощью команды:
```
git branch      // Выдает список всех имеющихся ветки репозитория
```
Ветка в которой вы находитесь в данный момент будет отмечена `*`:
```
$ git branch
  main
* paragraph/createBranch
```
## Перемещение между ветками
Для того чтобы перейти из одной ветки в другую можно воспользоваться командами:
```
git checkout <ИМЯ ВЕТКИ>    // Перемещает пользователя в выбранную ветку
```
или
```
git switch <ИМЯ ВЕТКИ>    // Перемещает пользователя в выбранную ветку
```
## Слияние веток, разрешение конфликтов
Для того что бы внести изменеия одной ветки в другую, необходимо:
1. Перейти в ветку, в которую мы будем добавлять измения.
2. Добавить изменения из необходимой ветки с помощью команды:
```
git merge <ИМЯ ВЕТКИ>   // Производит слияние ветки, в которой мы находимся в данный момент, с веткой, указанной в команде
```
Если, при слиянии веток, окажется что в одних и тех же строках содержится разная информация, то произойдет конфликт слияния.
При этом в конфликтующих местах документа появится запись вида:
```
 <<<<<<< HEAD
 Информация из ветки, в которую принимаются изменения
 =======
 Информация из ветки, от которой берут изменения
 >>>>>>> branch-a
```
Необходимо разрешить конфликт оставив только актуальные данные и закрепить результат коммитом.
## Удаление веток
Для удаления веток используется комманда `git branch` с параметром `-d`:
```
git branch -d <ИМЯ ВЕТКИ>   // Удаляет указанную ветку
```
C помощью параметра `-d` нельзя удалить ветку в котрой вы находиться в данный момент.  
Так же командой `git branch -d` нельзя удалить ветку в которой имеются неслитые изменения. Однако, это ограничение можно обойти, заменив параметр `-d` на `-D`
```
git branch -D <ИМЯ ВЕТКИ>   // ОСТОРОЖНО!
                            // Удаляет указанную ветку, даже если
                            // в ней имеются неслитые изменения
```
## Работа с удаленными репозиториями
В Git имееются инструменты для работы с репозиториями находящимися на удаленных серверах.  
Для добавления удаленного репозитория используется комманда:
```
git remote add <КОРОТКОЕ ИМЯ> <URL-РЕПОЗИТОРИЯ>   // Добавляет удаленный репозиторий
```
Короткое имя будет использоваться для обращения к удаленному репозиторию.  
  
Узнать какие удаленные репозитрии подключены к локальному можно с помощью комманды:
```
git remote    // Выводит список связанных удаленных репозиториев
```
**ПРИМЕР**
```
$ git remote
origin    // Короткое имя удаленного репозитория
```
Если добавить к этой команде параметр `-v` , то список репозиториев отобразится вместе с их url-адресами.  
**ПРИМЕР**
```
$ git remote -v
origin  https://github.com/korshunov-work/git-education.git (fetch)
origin  https://github.com/korshunov-work/git-education.git (push)
```
Для того чтобы получить изменения из удаленного репозитория, можно воспользоваться коммандой:
```
git fetch <КОРОТКОЕ ИМЯ>    // Забирает изменения из указанного репозитория
```
Эта команда забирает изменения из удаленного репозитория, но не сливает их с вашими. Поэтому, если вы хотите записать изменения в ваш локальный репозиторий, то необходимо вручную слить их.  
Или же можно упростить себе задачу и воспользоваться составной командой:
```
git pull    // Забирает изменения из репозитория и сливает их с вашими
```
Эта команда состоит из двух: `git fetch` и `git merge`. Сначала забирает изменеия с сервера, затем сливает их с вашей основной веткой.  
  
Так же тоит упомянуть о команде:
```
git clone <URL-РЕПОЗИТОРИЯ> <ИМЯ ПАПКИ>     // Копирует удаленный репозиторий
```
Как и `git pull` , `git clone` это составная комманда. Она создает папку, инициализирует новый репозиторий (`git init`), привязывает к нему удаленный репозиторий (`git remote add`), задает ему по умолчанию имя **origin**, скачивает изменения (`git fetch`) и извлекает посkедний коммит (`git checkout`).  
  
Для того что бы загрузить свои изменения на удаленный репозиторий, используется команда:
```
git push <ИМЯ РЕПОЗИТОРИЯ> <ИМЯ ВЕТКИ>    // Закачивает изменения из указанной
                                          // ветки на указанный удаленный репозиторий
``````
Для внесения изменений требуется право записи на сервере, поэтому она использует аутентификацию.
